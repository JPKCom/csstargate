/** @define Stargate */

$stargate_size: 45rem;
$stargate_inner_ring_size: 33.3rem;
$stargate_horizon_size: $stargate_inner_ring_size;
$shevron_n: 9;
$shevron_angle: 360deg / $shevron_n;
$screws_n: 6;
$screws_radius: 22.0275rem;
$screws_size: .27rem;
$screws_shadow: ();
$screws_spaces: (
  11deg,
  13deg,
  19deg,
  25deg,
  28deg,
  30deg,
);
$symboles_n: 39;
$symboles_angle: 360deg / $symboles_n;
$symboles_size_outer: 40.316rem;
$symboles_height: 2.55rem;
$outer_engravings_n: 300;
$outer_engravings_angle: 360deg / $outer_engravings_n;
$inner_engravings_n: 480;
$inner_engravings_angle: 360deg / $inner_engravings_n;
$triangles_n: 145;
$triangles_angle: 360deg / $triangles_n;

$c_engraving: $c_gray_dark;
$c_symbole: $c_gray_lighter;

@for $i from 1 through $screws_n {

  @for $j from 0 to $shevron_n {
    $d: ($shevron_angle * $j) - nth($screws_spaces, $i);
    $x: sin($d) * $screws_radius * -1;
    $y: cos($d) * $screws_radius * -1;
    $screws_shadow: $screws_shadow, $x $y $c_gray_darker;
  }

}

.Stargate {
  position: relative;
  width: $stargate_size;
  height: $stargate_size;
  border-radius: 50%;
}

.Stargate-outerRing {
  width: $stargate_size;
  height: $stargate_size;
  border-radius: 50%;
  box-shadow:
    inset 0 0 0 .225rem $c_gray_darker,
    inset 0 0 0 .28125rem $c_gray_darkest,
    inset 0 0 0 .675rem $c_gray,
    inset 0 0 0 .73125rem $c_engraving,
    inset 0 0 0 1.575rem $c_gray,
    inset 0 0 0 1.63125rem $c_engraving,
    inset 0 0 0 2.3625rem $c_gray,
    inset 0 0 .225rem 2.3625rem $c_gray_darkest;

  @extend _center;
}

.Stargate-engraving {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  transform-origin: top;

  @extend _center;

  &::before,
  &::after {
    position: absolute;
    display: block;
    width: .0625rem;
    background-color: $c_engraving;
    content: "";
    transform-origin: top;
  }

  &::before {
    height: .9rem;
    transform: translateX(-50%) rotate($outer_engravings_angle * -.5) translateY(-21.8rem);
  }

  &::after {
    height: .55rem;
    transform: translateX(-50%) translateY(-21.8rem);
  }
}

@for $i from 0 through $outer_engravings_n {
  .Stargate-engraving:nth-child(#{$i}) {
    transform: rotate($outer_engravings_angle * ($i - 1));
  }
}

.Stargate-engravingOval {
  position: absolute;
  top: 0;
  left: 0;
  width: .5rem;
  height: .6rem;
  overflow: hidden;
  transform-origin: top;

  transform: translateX(-50%) translateY(-21.55rem);

  &::before {
    position: absolute;
    top: 0;
    left: 50%;
    width: 100%;
    height: 300%;
    border-radius: 50%;
    content: "";
    transform: translateX(-50%);
    box-shadow: inset 0 0 0 1px $c_engraving;
  }

  &::after {
    position: absolute;
    top: .3rem;
    left: 50%;
    width: 60%;
    height: 150%;
    border-radius: 50%;
    content: "";
    transform: translateX(-50%);
    box-shadow: inset 0 0 0 1px $c_engraving;
  }
}

.Stargate-engravingLine {
  width: .12rem;
  height: .34rem;
  margin-top: .34rem * -.5;
  margin-left: .12rem * -.5;
  background-color: $c_engraving;

  @extend _center;

  &:nth-child(13n+1),
  &:nth-child(9n+1) {
    height: .12rem;
    margin-top: .12rem * -.5;
  }
}

@for $i from 0 through $inner_engravings_n {
  .Stargate-engravingLine:nth-child(#{$i}) {
    transform: rotate($inner_engravings_angle * $i) translateY(-17.4375rem);
  }
}

.Stargate-triangle {
  width: 0;
  height: 0;

  @extend _center;

  &::before {
    display: block;
    border-right: .35rem solid transparent;
    border-bottom: .45rem solid $c_engraving;
    border-left: .35rem solid transparent;
    content: "";
    transform-origin: top;
    transform: translateY(-17.15rem);
  }

  &:nth-child(7n+1)::before,
  &:nth-child(9n+1)::before {
    border-top: .1875rem solid $c_engraving;
    border-right: .1875rem solid transparent;
    border-bottom: 0;
    border-left: .1875rem solid transparent;
    transform: translateY(-17rem);
  }
}

@for $i from 0 through $triangles_n {
  .Stargate-triangle:nth-child(#{$i}) {
    transform: rotate($triangles_angle * $i);
  }
}

.Stargate-symboles {
  position: absolute;
  top: 50%;
  left: 50%;
  width: $symboles_size_outer;
  height: $symboles_size_outer;
  margin: $symboles_size_outer * -.5;
  font-size: 1rem;
  border-radius: 50%;
  transform: rotate(0);
  box-shadow: inset 0 0 0 $symboles_height $c_gray;
  transition: transform 4000ms ease-in-out;
  will-change: transform;
}

.Stargate-symbole {

  @extend _center;

  &::before,
  &::after {
    position: absolute;
    top: 50%;
    left: 50%;
    display: block;
    width: 1px;
    height: $symboles_height;
    background-color: $c_gray_darker;
    content: "";
    transform-origin: top;
  }
}

.Stargate-svg {
  position: absolute;
  top: 50%;
  left: 50%;
  color: $c_symbole;
  transform: translateX(-50%);
}

@for $i from 0 through $symboles_n {
  .Stargate-symbole:nth-child(#{$i}) {
    transform: rotate($symboles_angle * ($i - 1));

    &::before {
      transform: translateX(-50%) rotate($symboles_angle * -.47) translateY($symboles_size_outer * -.5);
    }

    &::after {
      transform: translateX(-50%) rotate($symboles_angle * .47) translateY($symboles_size_outer * -.5);
    }

    .Stargate-svg {
      transform: translate(-50%, $symboles_size_outer * -.48);
    }
  }
}

.Stargate-screws {
  width: $screws_size;
  height: $screws_size;
  border-radius: 50%;
  box-shadow: $screws_shadow;

  @extend _center;
}

.Stargate-innerRing {
  width: $stargate_inner_ring_size;
  height: $stargate_inner_ring_size;
  border-radius: 50%;
  box-shadow:
    0 0 0 1.0125rem $c_gray,
    0 0 .225rem 1.0125rem $c_gray_darkest;

  @extend _center;
}

.Stargate-horizon {
  display: block;
  width: $stargate_horizon_size;
  height: $stargate_horizon_size;
  overflow: hidden;
  background-color: #33f;
  border-radius: 50%;
  opacity: 0;
  transition: opacity 1000ms;

  @extend _center;

  &.is-active {
    opacity: 1;
  }
}

.Stargate-video {
  position: absolute;
  top: 50%;
  left: 50%;
  height: 104%;
  transform: translate(-50%, -50%);
}

.Stargate-button {
  position: fixed;
  right: 1vh;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 5vh;
  height: 5vh;
  font-size: 1.5vh;
  color: #fff;
  text-transform: uppercase;
  cursor: pointer;
}

.Stargate-button--go {
  top: 1vh;
  background-color: #080;
}

.Stargate-button--stop {
  top: 7vh;
  background-color: #b00;
}
